<div class="swiper" style="padding: 20px 0 40px 0; overflow:hidden;">
  <div class="w-full overflow-x-auto pb-2">
    <div class="swiper-wrapper flex flex-row gap-x-6 px-2 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 items-stretch h-full" style="scrollbar-width:thin;">
      {% for host in hosts %}
      <div class="swiper-slide flex h-full mx-auto" style="width:340px; min-width:340px; max-width:340px;">
        <div class="bg-white rounded-2xl shadow-xl p-6 flex flex-col gap-2 h-full w-full min-h-[420px]" style="min-height:420px;">
          <!-- ìœ í˜• -->
          <div class="flex items-center gap-2 mb-2 text-gray-800 font-bold text-base">
            {% if 'í•´ì•ˆ' in host.cluster_name %}ğŸŒŠ
            {% elif 'ë„ì‹œ' in host.cluster_name %}ğŸ™ï¸
            {% elif 'ìì—°' in host.cluster_name %}ğŸŒ²
            {% elif 'ê°ì„±' in host.cluster_name %}âœ¨
            {% elif 'ì „í†µ' in host.cluster_name %}ğŸ¯
            {% else %}ğŸ 
            {% endif %}
            <span>{{ host.cluster_name }}</span>
          </div>
          <!-- í”„ë¡œí•„/ì´ë¦„/ì‘ë‹µë¥ /ìŠˆí¼í˜¸ìŠ¤íŠ¸ -->
          <div class="flex items-center gap-3 mb-2">
            <img class="w-12 h-12 rounded-full object-cover border-2 border-gray-200" src="{{ host.host_picture_url }}" alt="í˜¸ìŠ¤íŠ¸ ì‚¬ì§„" onerror="this.src='https://via.placeholder.com/48?text=No+Image'">
            <div class="flex flex-col flex-1">
              <div class="flex items-center gap-2 min-w-0">
                <span class="font-bold text-base text-gray-900 truncate max-w-[120px] sm:max-w-[160px] md:max-w-[180px] lg:max-w-[200px] text-sm sm:text-base">{{ host.host_name }}</span>
                <span class="ml-1 px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold" style="background:#e6f7ec; color:#1ca97c;">ì‘ë‹µë¥  {{ host.host_response_rate|int }}%</span>
              </div>
              <div class="flex items-center gap-2 text-gray-400 text-xs font-semibold">
                {% if host.host_is_superhost in ['t', 'T', 'Y', 'y', '1', 1, True] %}
                  <span>ğŸ… ìŠˆí¼í˜¸ìŠ¤íŠ¸ </span>
                {% else %}
                  <span>{{ host.host_years }}</span>
                {% endif %}
              </div>
            </div>
          </div>
          <!-- ì†Œê°œê¸€ -->
          <div class="text-gray-800 text-sm mb-3" style="min-height:48px; line-height:1.5;">{{ host.summary }}</div>
          
          <!-- ì¶”ì²œ ê²ŒìŠ¤íŠ¸ pillë§Œ -->
          <div class="bg-purple-100 rounded-xl p-3 mb-4 flex flex-wrap items-center gap-2" style="background:#ede7f6;">
            <span class="font-bold text-gray-800 text-xs mr-2">ì´ëŸ° ê²ŒìŠ¤íŠ¸ì—ê²Œ ì¶”ì²œí•´ìš”</span>
            {% if host.name_1 %}<span class="bg-purple-400 text-white rounded-full px-2 py-0.5 text-xs font-semibold" style="background:#a78bfa;">{{ host.name_1 }}</span>{% endif %}
            {% if host.name_2 %}<span class="bg-purple-400 text-white rounded-full px-2 py-0.5 text-xs font-semibold" style="background:#a78bfa;">{{ host.name_2 }}</span>{% endif %}
            {% if host.name_3 %}<span class="bg-purple-400 text-white rounded-full px-2 py-0.5 text-xs font-semibold" style="background:#a78bfa;">{{ host.name_3 }}</span>{% endif %}
          </div>
          <!-- í”„ë¡œí•„ë³´ê¸° ë²„íŠ¼ (ì¹´ë“œ í•˜ë‹¨, í°ìƒ‰ ë°”íƒ•) -->
          <div class="flex justify-end mt-auto">
            <a href="{{ host.host_url }}" target="_blank" class="bg-white border border-gray-200 rounded-lg px-4 py-2 text-red-500 font-semibold text-xs shadow-sm hover:bg-gray-50 transition" style="font-weight:600;">í”„ë¡œí•„ë³´ê¸°</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  <!-- Swiper navigation ë²„íŠ¼ ì œê±° -->
</div> 
<script>
function unifyHostCardHeights() {
  const cards = document.querySelectorAll('.swiper-slide > div.bg-white');
  let maxHeight = 0;
  cards.forEach(card => {
    card.style.height = 'auto';
    if (card.offsetHeight > maxHeight) maxHeight = card.offsetHeight;
  });
  cards.forEach(card => {
    card.style.height = maxHeight + 'px';
  });
}
// ìµœì´ˆ ì‹¤í–‰ ë° AJAX ìƒˆë¡œê³ ì¹¨ í›„ ì‹¤í–‰
window.addEventListener('DOMContentLoaded', unifyHostCardHeights);
// Swiper ì˜ì—­ì´ ë™ì ìœ¼ë¡œ ê°±ì‹ ë  ë•Œë„ ì‹¤í–‰ (index.htmlì˜ fetch ì´í›„)
document.addEventListener('host-swiper-updated', unifyHostCardHeights);
</script> 